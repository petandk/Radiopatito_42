// ==UserScript==
// @name        Radiopatito 42 - Test
// @namespace   Violentmonkey Scripts
// @match       https://*.intra.42.fr/*
// @grant       none
// @version     1.0
// @author      you
// @description Simple test version
// ==/UserScript==

console.log('RADIOPATITO: Script started!');

// Simple test - create button immediately
const btn = document.createElement('button');
btn.textContent = 'TEST BUTTON';
btn.style.cssText = `
    position: fixed !important;
    bottom: 20px !important;
    right: 20px !important;
    z-index: 999999 !important;
    background: red !important;
    color: white !important;
    padding: 20px !important;
    border: none !important;
    font-size: 16px !important;
    font-weight: bold !important;
`;

btn.onclick = function() {
    alert('Button works!');
    console.log('RADIOPATITO: Button clicked!');
};

// Try multiple ways to add button
if (document.body) {
    document.body.appendChild(btn);
    console.log('RADIOPATITO: Button added to body immediately');
} else {
    console.log('RADIOPATITO: Body not ready, waiting...');
    document.addEventListener('DOMContentLoaded', function() {
        document.body.appendChild(btn);
        console.log('RADIOPATITO: Button added after DOMContentLoaded');
    });
    
    // Also try when window loads
    window.addEventListener('load', function() {
        if (!document.getElementById('test-btn')) {
            btn.id = 'test-btn';
            document.body.appendChild(btn);
            console.log('RADIOPATITO: Button added after window load');
        }
    });
}

// Also try with a timeout as backup
setTimeout(function() {
    if (!document.querySelector('button[style*="red"]')) {
        document.body.appendChild(btn);
        console.log('RADIOPATITO: Button added with timeout backup');
    }
}, 2000);

console.log('RADIOPATITO: Script setup complete');
